{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport firebase, { provider } from '../../configs/init-firebase';\nexport const formatDate = dateData => {\n  const formatted = new Date(dateData);\n  const year = formatted.getFullYear();\n  let month = formatted.getMonth() + 1;\n  let day = formatted.getDate();\n  month = Number(month) < 10 ? `0${month}` : month;\n  day = Number(day) < 10 ? `0${day}` : day;\n  return `${year}년 ${month}월 ${day}일`;\n};\nexport const setItem = (key, obj) => {\n  return sessionStorage.setItem(key, _JSON$stringify(obj));\n};\nexport const getItem = key => {\n  return sessionStorage.getItem(JSON.parse(key));\n};\nexport const removeExp = str => {\n  const regExp = /[\\{\\}\\[\\]\\/?.,;:|\\)*~`!^\\-_+<>@\\#$%&\\\\\\=\\(\\'\\\"]/gi;\n\n  if (regExp.test(str)) {\n    const result = str.replace(regExp, '');\n    return result;\n  }\n\n  return str;\n};\nexport const loginPopup = () => {\n  firebase.auth().signInWithPopup(provider).then(function (result) {\n    const token = _JSON$stringify(result.credential.toJSON());\n\n    sessionStorage.setItem(\"idToken\", token);\n    return result.user;\n  }).catch(function (error) {\n    // Handle Errors here.\n    const errorCode = error.code;\n    const errorMessage = error.message; // The email of the user's account used.\n\n    const email = error.email; // The firebase.auth.AuthCredential type that was used.\n\n    const credential = error.credential; // ...\n  });\n};\nexport const logoutFn = () => {\n  firebase.auth().signOut().then(function () {\n    // Sign-out successful.\n    sessionStorage.removeItem(\"idToken\");\n  }).catch(function (error) {// An error happened.\n  });\n};\nexport const checkUser = async () => {\n  const user = await firebase.auth().currentUser;\n  return user;\n};\nexport const loginEmail = (email, password) => {\n  const result = firebase.auth().signInWithEmailAndPassword(email, password).then(res => {\n    const token = _JSON$stringify(res.user);\n\n    sessionStorage.setItem(\"idToken\", token);\n    return res;\n  }).catch(err => console.log(err));\n  return result;\n};","map":{"version":3,"sources":["C:/Users/lchon/Project/blog_front/lib/Utils/utils.ts"],"names":["firebase","provider","formatDate","dateData","formatted","Date","year","getFullYear","month","getMonth","day","getDate","Number","setItem","key","obj","sessionStorage","getItem","JSON","parse","removeExp","str","regExp","test","result","replace","loginPopup","auth","signInWithPopup","then","token","credential","toJSON","user","catch","error","errorCode","code","errorMessage","message","email","logoutFn","signOut","removeItem","checkUser","currentUser","loginEmail","password","signInWithEmailAndPassword","res","err","console","log"],"mappings":";AAAA,OAAOA,QAAP,IAAmBC,QAAnB,QAAmC,6BAAnC;AAEA,OAAO,MAAMC,UAAU,GAAIC,QAAD,IAAsB;AAC9C,QAAMC,SAAe,GAAG,IAAIC,IAAJ,CAASF,QAAT,CAAxB;AACA,QAAMG,IAAY,GAAGF,SAAS,CAACG,WAAV,EAArB;AACA,MAAIC,KAAsB,GAAGJ,SAAS,CAACK,QAAV,KAAuB,CAApD;AACA,MAAIC,GAAoB,GAAGN,SAAS,CAACO,OAAV,EAA3B;AACAH,EAAAA,KAAK,GAAGI,MAAM,CAACJ,KAAD,CAAN,GAAgB,EAAhB,GAAsB,IAAGA,KAAM,EAA/B,GAAmCA,KAA3C;AACAE,EAAAA,GAAG,GAAGE,MAAM,CAACF,GAAD,CAAN,GAAc,EAAd,GAAoB,IAAGA,GAAI,EAA3B,GAA+BA,GAArC;AAEA,SAAQ,GAAEJ,IAAK,KAAIE,KAAM,KAAIE,GAAI,GAAjC;AACD,CATM;AAWP,OAAO,MAAMG,OAAO,GAAG,CAACC,GAAD,EAAcC,GAAd,KAA8B;AACnD,SAAOC,cAAc,CAACH,OAAf,CAAuBC,GAAvB,EAA4B,gBAAeC,GAAf,CAA5B,CAAP;AACD,CAFM;AAIP,OAAO,MAAME,OAAO,GAAIH,GAAD,IAAiB;AACtC,SAAOE,cAAc,CAACC,OAAf,CAAuBC,IAAI,CAACC,KAAL,CAAWL,GAAX,CAAvB,CAAP;AACD,CAFM;AAIP,OAAO,MAAMM,SAAS,GAAIC,GAAD,IAAiB;AACxC,QAAMC,MAAM,GAAG,mDAAf;;AACA,MAAGA,MAAM,CAACC,IAAP,CAAYF,GAAZ,CAAH,EAAqB;AACnB,UAAMG,MAAM,GAAGH,GAAG,CAACI,OAAJ,CAAYH,MAAZ,EAAoB,EAApB,CAAf;AACA,WAAOE,MAAP;AACD;;AAAC,SAAOH,GAAP;AACH,CANM;AAQP,OAAO,MAAMK,UAAU,GAAG,MAAM;AAC9B1B,EAAAA,QAAQ,CAAC2B,IAAT,GAAgBC,eAAhB,CAAgC3B,QAAhC,EAA0C4B,IAA1C,CAA+C,UAASL,MAAT,EAAiB;AAC9D,UAAMM,KAAK,GAAG,gBAAeN,MAAM,CAACO,UAAP,CAAkBC,MAAlB,EAAf,CAAd;;AACAhB,IAAAA,cAAc,CAACH,OAAf,CAAuB,SAAvB,EAAkCiB,KAAlC;AACA,WAAON,MAAM,CAACS,IAAd;AACD,GAJD,EAIGC,KAJH,CAIS,UAASC,KAAT,EAAgB;AACvB;AACA,UAAMC,SAAS,GAAGD,KAAK,CAACE,IAAxB;AACA,UAAMC,YAAY,GAAGH,KAAK,CAACI,OAA3B,CAHuB,CAIvB;;AACA,UAAMC,KAAK,GAAGL,KAAK,CAACK,KAApB,CALuB,CAMvB;;AACA,UAAMT,UAAU,GAAGI,KAAK,CAACJ,UAAzB,CAPuB,CAQvB;AACD,GAbD;AAcD,CAfM;AAiBP,OAAO,MAAMU,QAAQ,GAAG,MAAM;AAC5BzC,EAAAA,QAAQ,CAAC2B,IAAT,GAAgBe,OAAhB,GAA0Bb,IAA1B,CAA+B,YAAW;AACxC;AACAb,IAAAA,cAAc,CAAC2B,UAAf,CAA0B,SAA1B;AACD,GAHD,EAGGT,KAHH,CAGS,UAASC,KAAT,EAAgB,CACvB;AACD,GALD;AAMD,CAPM;AASP,OAAO,MAAMS,SAAS,GAAG,YAAY;AACnC,QAAMX,IAAI,GAAG,MAAMjC,QAAQ,CAAC2B,IAAT,GAAgBkB,WAAnC;AACA,SAAOZ,IAAP;AACD,CAHM;AAKP,OAAO,MAAMa,UAAU,GAAG,CAACN,KAAD,EAAgBO,QAAhB,KAAqC;AAC7D,QAAMvB,MAAM,GAAGxB,QAAQ,CAAC2B,IAAT,GACZqB,0BADY,CACeR,KADf,EACsBO,QADtB,EAEZlB,IAFY,CAENoB,GAAD,IAAS;AACb,UAAMnB,KAAK,GAAG,gBAAemB,GAAG,CAAChB,IAAnB,CAAd;;AACAjB,IAAAA,cAAc,CAACH,OAAf,CAAuB,SAAvB,EAAkCiB,KAAlC;AACA,WAAOmB,GAAP;AACH,GANc,EAMZf,KANY,CAMNgB,GAAG,IAAKC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CANF,CAAf;AAOA,SAAO1B,MAAP;AACD,CATM","sourcesContent":["import firebase, { provider } from '../../configs/init-firebase';\r\n\r\nexport const formatDate = (dateData: string) => {\r\n  const formatted: Date = new Date(dateData);\r\n  const year: number = formatted.getFullYear();\r\n  let month: number | string = formatted.getMonth() + 1;\r\n  let day: number | string = formatted.getDate();\r\n  month = Number(month) < 10 ? `0${month}` : month;\r\n  day = Number(day) < 10 ? `0${day}` : day;\r\n\r\n  return `${year}년 ${month}월 ${day}일`;\r\n};  \r\n\r\nexport const setItem = (key: string, obj: object) => {\r\n  return sessionStorage.setItem(key, JSON.stringify(obj));\r\n};\r\n\r\nexport const getItem = (key: string) => {\r\n  return sessionStorage.getItem(JSON.parse(key));\r\n};\r\n\r\nexport const removeExp = (str: string) => {\r\n  const regExp = /[\\{\\}\\[\\]\\/?.,;:|\\)*~`!^\\-_+<>@\\#$%&\\\\\\=\\(\\'\\\"]/gi\r\n  if(regExp.test(str)) {\r\n    const result = str.replace(regExp, '');\r\n    return result;\r\n  } return str;\r\n} \r\n\r\nexport const loginPopup = () => {\r\n  firebase.auth().signInWithPopup(provider).then(function(result) {\r\n    const token = JSON.stringify(result.credential.toJSON());\r\n    sessionStorage.setItem(\"idToken\", token);\r\n    return result.user\r\n  }).catch(function(error) {\r\n    // Handle Errors here.\r\n    const errorCode = error.code;\r\n    const errorMessage = error.message;\r\n    // The email of the user's account used.\r\n    const email = error.email;\r\n    // The firebase.auth.AuthCredential type that was used.\r\n    const credential = error.credential;\r\n    // ...\r\n  });\r\n}\r\n\r\nexport const logoutFn = () => {\r\n  firebase.auth().signOut().then(function() {\r\n    // Sign-out successful.\r\n    sessionStorage.removeItem(\"idToken\");\r\n  }).catch(function(error) {\r\n    // An error happened.\r\n  });\r\n}\r\n\r\nexport const checkUser = async () => {\r\n  const user = await firebase.auth().currentUser;\r\n  return user;\r\n}\r\n\r\nexport const loginEmail = (email: string, password: string) => {\r\n  const result = firebase.auth()\r\n    .signInWithEmailAndPassword(email, password)\r\n    .then((res) => {\r\n      const token = JSON.stringify(res.user);\r\n      sessionStorage.setItem(\"idToken\", token);\r\n      return res\r\n  }).catch(err =>  console.log(err));\r\n  return result;\r\n}"]},"metadata":{},"sourceType":"module"}